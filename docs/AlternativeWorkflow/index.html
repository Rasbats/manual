<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: OpenCPN Developer Manual</title>
    <link rel="canonical" href="https://leamas.github.io/ocpn-manuals/AlternativeWorkflow/index.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../_/css/site.css">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://leamas.github.io/ocpn-manuals">OpenCPN Developer Manual</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="AlternativeWorkflow" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Alternative Managed Workflow for OpenCPN plugins</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Using the Alternative Managed Workflow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Alternative-Workflow.html">The Alternative Workflow</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Metadata-Flow.html">Metadata Files</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Appveyor.html">Appveyor</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="CircleCI.html">CircleCI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Cloud-Service-Changes.html">Cloud service changes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Cloudsmith.html">Cloudsmith</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Travis.html">Travis</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="GitHub.html">GitHub</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Plugin-Adaptation.html">Adapting the plugin</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="CodeChange.html">Code Changes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Local-Build.html">Building locally</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Useful-Stuff.html">Useful information</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Plugin-Dependencies.html">Plugin Dependencies</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Alternative Managed Workflow for OpenCPN plugins</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">Alternative Managed Workflow for OpenCPN plugins</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../ocpn-dev-manual/5.3.1/index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ocpn-dev-manual/5.3.1/index.html">5.3.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../plugin-installer/0.0.1/Home.html">Plugin Installer Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../plugin-installer/0.0.1/Home.html">0.0.1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../shipdriver/0.0.1/shipdriver.html">ShipDriver OpenCPN plugin docs.</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../shipdriver/0.0.1/shipdriver.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../ocpn-dev-manual/5.3.1/developer_guide.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Alternative Managed Workflow for OpenCPN plugins</a></li>
    <li><a href="index.html">Using the Alternative Managed Workflow</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/Rasbats/managed_plugins/edit/asciidoc/docs/modules/ROOT/pages/index.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_managed_plugins_for_opencpn"><a class="anchor" href="#_managed_plugins_for_opencpn"></a>Managed Plugins for OpenCPN</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide should be read alongside the README files in the
<a href="https://github.com/Rasbats/ShipDriver_pi">ShipDriver repository</a>.</p>
</div>
<div class="paragraph">
<p>A simplified guide is available as a
<a href="https://github.com/Rasbats/managed_plugins/blob/main/cheatsheet/Managed.Workflow.Cheat.Sheet.pdf">cheat
sheet</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_overall_managed_plugin_flow"><a class="anchor" href="#_the_overall_managed_plugin_flow"></a>The overall managed plugin flow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A managed plugin becomes available for an OpenCPN user in the Plugins
options dialog. Here, a number of plugins are available for users so
they can just click on a plugin to install it. The managed plugins
workflow is the way a plugin becomes available for users in this UI
dialog.</p>
</div>
<div class="paragraph">
<p>In general, plugin code flows like this:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Source code is stored and eventually tagged and released on Github</p>
</li>
<li>
<p>As soon as a change is committed a number of builder services build
the code for around 10 platforms.</p>
</li>
<li>
<p>The compiled plugins are stored on cloudsmith. Here, they get a url
which can be used to download them.</p>
</li>
<li>
<p>The builds also produce
 <a href="Metadata-Flow.html" class="page">metadata files</a>
with plugin data such as name, platform, various info and the
download URL.</p>
</li>
<li>
<p>The metadata files are used to create a catalog. This catalog is the
underpinning for the list of plugins in the OpenCPN plugin dialog.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alec Leamas is the main architect of the managed plugin system for
OpenCPN. His guide is
<a href="https://github.com/leamas/OpenCPN/wiki">here</a>.</p>
</div>
<div class="paragraph">
<p>The
<a href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:developer_manual:pi_installer_summary">OpenCPN Developers Manual</a>
has extensive documentation for managed plugins but the workflow
described in the manual differs significantly from the process described
in this guide.</p>
</div>
<div class="paragraph">
<p>A managed plugin will nearly always start as a `legacy' plugin that
installs locally on the developers machine. Alec has provided new
scripts to build a managed version of the plugin for OpenCPN. The legacy
plugin is the starting point and the purpose of this guide is to
describe the steps involved. The aim is to simplify the workflow.</p>
</div>
<div class="paragraph">
<p>The reference plugin where the development work has been carried out is
<a href="https://github.com/Rasbats/shipdriver_pi">ShipDriver</a>
(Master branch).
To show the process from the start
<a href="https://github.com/Rasbats/TideFinder_pi">TideFinder</a> is used as an
illustration.</p>
</div>
<div class="paragraph">
<p>Mike Rossiter, who developed the ShipDriver and TideFinder plugins,
assisted by testing the workflow. He has produced this guide to assist
developers in making a managed plugin. Please report any errors or
omissions using the issues tab of this GitHub repository.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_alternative_workflow"><a class="anchor" href="#_the_alternative_workflow"></a>The Alternative Workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="Alternative-Workflow.html" class="page">The Alternative Workflow</a></p>
</div>
<div class="paragraph">
<p><a href="Plugin-Dependencies.html" class="page">A Note on Plugin Dependencies</a></p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
